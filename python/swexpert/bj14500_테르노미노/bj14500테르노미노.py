N, M = map(int,input().split())
mymap = [list(map(int,input().split())) for i in range(N)]

teromino = [
    [[(0,0),(0,1),(0,2),(0,3)],[(0,0),(1,0),(2,0),(3,0)]],
    [[(0,0),(0,1),(1,0),(1,1)]],
    [
        [(0,0),(0,1),(0,2),(1,2)],
        [(0,0),(0,1),(0,2),(-1,2)],
        [(0,0),(0,1),(0,2),(1,0)],
        [(0,0),(0,1),(0,2),(-1,0)],
        [(0,0),(1,0),(2,0),(2,1)],
        [(0,0),(1,0),(2,0),(2,-1)],
        [(0,0),(1,0),(2,0),(0,1)],
        [(0,0),(1,0),(2,0),(0,-1)],
    ],
    [
        [(0,0),(0,1),(0,2),(1,1)],
        [(0,0),(0,1),(0,2),(-1,1)],
        [(0,0),(1,0),(2,0),(1,1)],
        [(0,0),(1,0),(2,0),(1,-1)],
    ],
    [
        [(0,0),(0,1),(1,1),(1,2)],
        [(0,0),(0,1),(-1,1),(-1,2)],
        [(0,0),(1,0),(1,-1),(2,-1)],
        [(0,0),(1,0),(1,1),(2,1)],
    ]
]
def isSafe(x,y) :
    return 0 <= y < N and 0 <= x < M

res = 0
for i in range(N) :
    for j in range(M) :
        for te in teromino :
            for t in te :
                chk = True
                # print(t)
                item = 0
                for tt in t :
                    # print(j+tt[0],i+tt[1])
                    if isSafe(j+tt[0],i+tt[1]) :
                        item += mymap[i+tt[1]][j+tt[0]]
                    else :
                        chk = False
                        break
                if chk and item > res :
                # print(item)
                    res = item
print(res)